# Example values file for subnet-operator-inventory
# Copy this file and customize as needed

replicaCount: 1

image:
  repository: your-registry/subnet-operator-inventory
  pullPolicy: IfNotPresent
  tag: "v1.0.0"

imagePullSecrets:
  - name: regcred

nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: true
  annotations:
    eks.amazonaws.com/role-arn: arn:aws:iam::123456789012:role/subnet-operator-inventory-role
  name: ""

podAnnotations:
  prometheus.io/scrape: "true"
  prometheus.io/port: "8080"

podSecurityContext:
  fsGroup: 2000

securityContext:
  capabilities:
    drop:
    - ALL
  readOnlyRootFilesystem: true
  runAsNonRoot: true
  runAsUser: 1000

service:
  type: ClusterIP
  port: 8080

resources:
  limits:
    cpu: 1000m
    memory: 1Gi
  requests:
    cpu: 200m
    memory: 256Mi

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 10
  targetCPUUtilizationPercentage: 70
  targetMemoryUtilizationPercentage: 80

nodeSelector:
  kubernetes.io/os: linux

tolerations:
  - key: "node-role.kubernetes.io/master"
    operator: "Exists"
    effect: "NoSchedule"

affinity:
  podAntiAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 100
        podAffinityTerm:
          labelSelector:
            matchExpressions:
              - key: app.kubernetes.io/name
                operator: In
                values:
                  - subnet-operator-inventory
          topologyKey: kubernetes.io/hostname

rbac:
  create: true
  rules:
    - apiGroups: ["subnet.example.com"]
      resources: ["*"]
      verbs: ["*"]

leaderElection:
  enabled: true
  resourceName: subnet-operator-inventory-leader-election
  resourceNamespace: ""

metrics:
  enabled: true
  serviceMonitor:
    enabled: true
    interval: 30s
    scrapeTimeout: 10s

logging:
  level: debug
  format: json

operator:
  watchNamespace: ""
  syncPeriod: 30
  maxConcurrentReconciles: 3

config:
  version: v1
  cluster_storage:
    - default
    - custom-storage
  exclude:
    nodes:
      - node-1
      - node-2
    node_storage:
      - storage-1
  configPath: /etc/subnet-operator-inventory/config.yaml

